<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="index.css">
  <meta charset="UTF-8">
  <title>GatherChain</title>

</head>

<body>
  <p id="1"></p>

  <script>window.$ = window.jQuery = require('jquery');</script>

  <script>
    const execSync = require('child_process').execSync;
    const res = execSync('./commands/history.sh ' + process.env.PROJECT_PATH, { encoding: 'utf-8' });  // the default is 'buffer'
    var lines = res.split(/\n/);
    var output = [];
    var outputText = [];
    for (var i = 0; i < lines.length; i++) {
      // only push this line if it contains a non whitespace character.
      if (/\S/.test(lines[i])) {
        outputText.push('"' + $.trim(lines[i]) + '"');
        output.push($.trim(lines[i]));
      }
    }
    console.log(output);

    var ul = document.createElement('ul');
    ul.className = "list-ic vertical";

    document.getElementById('1').appendChild(ul);

    i = 1;
    output.forEach(function (item) {
      let a = document.createElement('a');
      let span = document.createElement('span');
      let li = document.createElement('li');
      li.appendChild(span);
      li.appendChild(a);
      ul.appendChild(li);
      span.innerHTML = i;
      i++;
      a.innerHTML += " " + item;
    });
    //document.getElementById("1").innerHTML = output;
  </script>
</body>

</html>